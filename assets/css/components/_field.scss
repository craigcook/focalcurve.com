@use '../includes/lib' as *;

// a form field component has a label and a control
// it may also optionally have:
// - field
// - field-label
// - field-control
// - field-info

// field
.fc5-c-field {
    margin: 0;
    max-width: 100%;
    padding-bottom: var(--spacing-sm);

    button {
        margin-bottom: 0;
    }

    textarea,
    select,
    input[list],
    input[type='color'],
    input[type='date'],
    input[type='email'],
    input[type='file'],
    input[type='number'],
    input[type='password'],
    input[type='search'],
    input[type='tel'],
    input[type='text'],
    input[type='time'],
    input[type='url'] {
        margin-bottom: 0;
    }
}

legend.fc5-c-field-label {
    float: left;
    width: 100%;
}

// control
.fc5-c-field-control {
    .fc5-l-stretch & {
        width: 100%;
        max-width: 100%;
    }
}

// info
.fc5-c-field-info {
    margin: 0; // remove default element margin (eg paragraph)

    .fc5-c-field-control + & {
        padding-top: var(--spacing-sm);
    }

    .fc5-c-field-msg + & {
        padding-top: var(--spacing-xs);
    }
}

// error messages
.fc5-c-field-msg {
    font-size: var(--body-sm);
    box-sizing: border-box;
    background-color: var(--color-red-dark);
    box-shadow: 3px 4px 0 var(--shadow-color);
    color: var(--color-white);
    display: table; // make it behave like inline-block but still get a new line
    margin: 4px 0 0;
    max-width: 100%;
    padding: var(--spacing-xs) var(--spacing-sm);
    position: relative;
}

.fc5-c-field-control + .fc5-c-field-msg::after {
    left: 10px;
    border: 7px solid transparent;
    border-bottom: 8px solid var(--color-red-dark);
    bottom: 100%;
    content: '';
    height: 0;
    position: absolute;
    width: 0;
    z-index: 1;
    margin-top: -10px;
}

.fc5-c-fieldnote {
    font-size: var(--body-sm);
    margin-inline-start: var(--spacing-xs);
    font-weight: normal;
}
